<!DOCTYPE html>
<html lang="en-US">
<head>
    {{ template "head" . }}
</head>

<body class="layoutSidebar">
<header class="layoutSidebar__sidebar">
    {{ template "navbar" . }}

    {{ if lt (len .Data.ClusterContext) 1 }}
        <nav>
            <ul class="navList" role="list">
                <li>
                    <a class="linkIcon" href="/">
                        <i aria-hidden="true" class="fas fa-fw fa-list-ul"></i>
                        List All Namespaces
                    </a>
                </li>
                <li>
                    <a class="linkIcon" href="/dashboard">
                        <i aria-hidden="true" class="far fa-fw fa-eye"></i>
                        Detail All Namespaces
                    </a>
                </li>
            </ul>
        </nav>
    {{ else }}
        {{ template "filter_cluster" . }}
    {{ end }}
</header>

<div class="layoutSidebar__main">
    <main class="verticalRhythm">
        <h1>Clusters</h1>

        {{ if lt (len .Data.ClusterContext) 1 }}
            <article>
                <p>No clusters found. Using in-cluster config.</p>
            </article>

        {{ else }}
            <p class="summary">{{len .Data.ClusterContext}} total clusters found</p>

            <ul aria-live="off" class="namespaceList" id="js-filter-container" role="list">
                {{ range $key, $value := .Data.ClusterContext }}
                    <li data-filter="{{ $value }}">
                        <a class="buttonLink --withIcon" href="/dashboard?cluster={{ $value }}">
                            {{ $value }}
                            <i aria-hidden="true" class="fas fa-fw fa-chevron-right"></i>
                        </a>
                    </li>
                {{ end }}
            </ul>
        {{end}}
    </main>

    <footer>
        {{ template "footer" . }}
    </footer>
</div>
</body>
</html>
