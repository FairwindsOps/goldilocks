<!DOCTYPE html>
<html lang="en-US">
<head>
  {{ template "head" . }}
</head>

<body class="layoutSidebar">
  <header class="layoutSidebar__sidebar">
    {{ template "navbar" . }}

    {{ if gt (len .Data.Name) 1 }}
    <nav>
      <ul class="navList" role="list">
      {{ if .Data.CurrentCluster }}
        <li>
          <a class="linkIcon" href="/clusters">
            <i aria-hidden="true" class="fas fa-fw fa-list-ul"></i>
            List All Clusters
          </a>
        </li>
        <li>
          <a class="linkIcon" href="/dashboard?cluster={{ .Data.CurrentCluster }}">
            <i aria-hidden="true" class="far fa-fw fa-eye"></i>
            Detail All Namespaces for current cluster
          </a>
        </li>
      {{ else }}
        <li>
          <a class="linkIcon" href="/dashboard">
            <i aria-hidden="true" class="far fa-fw fa-eye"></i>
            Detail All Namespaces
          </a>
        </li>
      {{ end }}
      </ul>
    </nav>

      {{ template "filter" . }}
    {{ end }}
  </header>

<div class="layoutSidebar__main">
    <main class="verticalRhythm">
    {{ if .Data.CurrentCluster }}
      <h1>Namespaces for Cluster {{ .Data.CurrentCluster }}</h1>
    {{ else }}
      <h1>Namespaces</h1>
    {{ end }}

      {{ if lt (len .Data.Name) 1 }}
      <article>
        <p>No namespaces are labelled for use by Goldilocks. Try labelling one with <code class="language-shell">kubectl label ns NAMESPACE_NAME goldilocks.fairwinds.com/enabled=true</code></p>
      </article>

        {{ else }}
      <p class="summary">{{len .Data.Name}} total namespaces found</p>

            <ul aria-live="off" class="namespaceList" id="js-filter-container" role="list">
        {{ range $key, $value := .Data.Name }}
        <li data-filter="{{ $value }}">
          {{ if $.Data.CurrentCluster }}
          <a class="buttonLink --withIcon" href="/dashboard/{{ $value }}?cluster={{ $.Data.CurrentCluster }}">
            {{ $value }}
          <i aria-hidden="true" class="fas fa-fw fa-chevron-right"></i>
          </a>
          {{ else }}
          <a class="buttonLink --withIcon" href="/dashboard/{{ $value }}">
            {{ $value }}
          <i aria-hidden="true" class="fas fa-fw fa-chevron-right"></i>
          </a>
          {{ end }}
        </li>
        {{ end }}
      </ul>
      {{end}}
    </main>

    <footer>
      {{ template "footer" . }}
    </footer>
  </div>
</body>
</html>
